<!doctype html>
<html lang="en">
<title>texts tests</title>

<link href="https://unpkg.com/mocha@4.1.0/mocha.css" rel="stylesheet">
<script src="https://unpkg.com/chai/chai.js"></script>
<script src="https://unpkg.com/mocha@4.1.0/mocha.js"></script>
<script src="./setup-mocha.js"></script>

<template id="doubleText">{{one}}{{two}}</template>
<div id="host"></div>
<div id="mocha"></div>

<script type="module">
  import Bram from '../src/bram.js';

  describe('text side-by-side', function(){
    let model;

    beforeEach(function(){
      let instance = Bram.createInstance(doubleText, {
        one: 'one', two: 'two'
      });

      model = instance.model;
      host.appendChild(instance.fragment);
    });

    afterEach(function(){
      host.innerHTML = '';
    });

    it('renders the text', function(){
      assert.equal(host.textContent, 'onetwo');
    });

    it('can update the values', function(){
      model.one = 'hello';
      assert.equal(host.textContent,'hellotwo');

      model.two = 'world';
      assert.equal(host.textContent, 'helloworld');
    });
  });
</script>
