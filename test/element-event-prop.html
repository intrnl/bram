<!doctype html>
<html lang="en">
<title>Element event property tests</title>

<link href="https://unpkg.com/mocha@4.1.0/mocha.css" rel="stylesheet">
<script src="https://unpkg.com/chai/chai.js"></script>
<script src="https://unpkg.com/mocha@4.1.0/mocha.js"></script>
<script src="./setup-mocha.js"></script>

<template id="myTemplate"></template>
<evented-element id="eventedElement"></evented-element>
<div id="mocha"></div>

<script type="module">
  import Bram from '../src/bram.js';

  describe('Event properties', function(){
    before(function(){
      class EventedElement extends Bram.Element {
        static get template() {
          return myTemplate;
        }

        static get events() {
          return ['foo'];
        }

        trigger() {
          this.dispatchEvent(new Event('foo'));
        }
      }
      customElements.define('evented-element', EventedElement);
    });

    it('Are added to instances', function(done){
      eventedElement.onfoo = function(){
        assert.ok(true, 'this was called');
        done();
      };
      eventedElement.trigger();
    });
  });
</script>